<!DOCTYPE html>
<html lang="en"> 
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <link rel="stylesheet" href="/theme/css/readability-bootstrap.min.css" />
        <!--<link rel="stylesheet" href="/theme/css/statocles-bootstrap.css" />-->
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <title>Neil H. Watson</title>
        <meta name="generator" content="Statocles 0.093" />
        <link rel="alternate" href="/blog/index.atom" type="application/atom+xml" />
        <link rel="alternate" href="/blog/index.rss" type="application/rss+xml" />
        

        <!-- For source highlighting -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

    </head>
    <body>
        <header>
            <nav class="navbar navbar-default navbar-static-top" role="navigation">
                <div class="container">
                <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#top-navbar-collapse-1">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">Neil H. Watson</a>
                    </div>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="top-navbar-collapse-1">
                        <ul class="nav navbar-nav">
                            <li><a href="/page/about">About me</a></li>
                            <li><a href="/static/resume_neil_h_watson.pdf">Resume</a></li>
                            <li><a href="/page/projects">Projects</a></li>
                            <li><a href="/page/evolvethinking">UPDATE: EvolveThinking</a></li>
                        </ul>
                        
                    </div>
                </div>
            </nav>
            
        </header>
        <div class="main container">
            
<div class="row">

    <div class="col-md-9">
        <main>


            <article>
                <header>
                    <h1><a href="/blog/2013/10/11/make-cfengine-simple-using-the-evolve-free-library/">Make CFEngine simple using the Evolve Free Library</a></h1>

                    <p class="tags">Tags:
                        <a href="/blog/tag/cfengine/" rel="tag">cfengine</a>
                        <a href="/blog/tag/efl/" rel="tag">EFL</a>
                    </p>

                    <aside>
                        <p><time datetime="2013-10-11">
                            Posted on 2013-10-11
                        </time>
                            by nwatson
                        </p>
                    </aside>

                </header>

                <p><a href="https://github.com/neilhwatson/evolve_cfengine_freelib">EFL</a> makes
using CFEngine both simple and easy. <a href="https://github.com/neilhwatson/evolve_cfengine_freelib">EFL</a>
is a collection of data driven bundles that promise many common
configuration states. Here are a few examples covering just a few
bundles found in <a href="https://github.com/neilhwatson/evolve_cfengine_freelib">EFL</a>.</p>


                    <p><a href="/blog/2013/10/11/make-cfengine-simple-using-the-evolve-free-library/index.html#section-2">Continue reading Make CFEngine simple using the Evolve Free Library...</a></p>

            </article>
            <article>
                <header>
                    <h1><a href="/blog/2013/09/11/experimental-and-coming-soon-features-in-cfengine/">Experimental and coming soon features in CFEngine</a></h1>

                    <p class="tags">Tags:
                        <a href="/blog/tag/cfengine/" rel="tag">cfengine</a>
                    </p>

                    <aside>
                        <p><time datetime="2013-09-11">
                            Posted on 2013-09-11
                        </time>
                            by nwatson
                        </p>
                    </aside>

                </header>

                <p>Pull requests for CFEngine Core, at <a href="https://github.com/cfengine/core/pulls">Github</a>,
and CFEngine&#39;s <a href="https://cfengine.com/dev/projects/core">issue tracker</a>
show some interesting proposals for future versions of CFEngine. Here&#39;s
a quick summary for you.</p>


                    <p><a href="/blog/2013/09/11/experimental-and-coming-soon-features-in-cfengine/index.html#section-2">Continue reading Experimental and coming soon features in CFEngine...</a></p>

            </article>
            <article>
                <header>
                    <h1><a href="/blog/2013/08/07/secure-sysctl-settings-with-cfengine/">Secure sysctl settings with CFEngine</a></h1>

                    <p class="tags">Tags:
                        <a href="/blog/tag/cfengine/" rel="tag">cfengine</a>
                        <a href="/blog/tag/efl/" rel="tag">EFL</a>
                        <a href="/blog/tag/linux/" rel="tag">linux</a>
                        <a href="/blog/tag/security/" rel="tag">security</a>
                        <a href="/blog/tag/sysctl/" rel="tag">sysctl</a>
                    </p>

                    <aside>
                        <p><time datetime="2013-08-07">
                            Posted on 2013-08-07
                        </time>
                            by nwatson
                        </p>
                    </aside>

                </header>

                <p>Here&#39;s how to maintain Linux sysctl settings across all hosts in
an organization using the Evolve <a href="http://watson-wilson.ca/evolve-thinkings-free-cfengine-library/">free promise library</a>
and CFEngine. ---</p>

<p>Sysctl data is separated from CFEngine policy in its own data file.</p>

<pre><code># sysctl.txt
# Promise sysctl.conf and live kernel settings

# context(0) ;; sysctl variable name(1)         ;; value(2) ;; promisee(3)
any          ;; net.ipv6.conf.all.accept_ra     ;; 0        ;; ipv6 auto assign
any          ;; net.ipv6.conf.all.autoconf      ;; 0        ;; ipv6 auto assign
any          ;; net.ipv6.conf.default.autoconf  ;; 0        ;; ipv6 auto assign
any          ;; net.ipv6.conf.eth0.accept_ra    ;; 0        ;; ipv6 auto assign
sol          ;; net.ipv6.conf.bond0.accept_ra   ;; 0        ;; ipv6 auto assign

alix         ;; net.ipv6.conf.all.forwarding    ;; 1        ;; Routing
alix         ;; net.ipv4.ip_forward             ;; 1        ;; Routing
neptune      ;; proc.sys.kernel.sysrq           ;; 0        ;; Laptop security
</code></pre>

<p>Columns labeled 1 and 2 are the sysctl setting name and the value.
Column 3 is the promisee, used for documentation. Column 0 is the class
or context that must be true for the sysctl setting to be applied.</p>

<p>The Evolve free promise library has two sysctl bundles. One promises
live sysctl settings and the other promises the sysctl.conf file. Use
methods promises to call each bundle, passing the same parameter file.</p>

<pre><code>methods:

&quot;live sysctl settings&quot;
   usebundle =&gt; efl_sysctl_live( &quot;${sys.workdir}/inputs/bundle_params/sysctl.txt&quot; ),
   action    =&gt; if_elapsed( &quot;240&quot; );

&quot;sysctl conf settings&quot;
   usebundle =&gt; efl_sysctl_conf_file( &quot;${sys.workdir}/inputs/bundle_params/sysctl.txt&quot; ),
   action    =&gt; if_elapsed( &quot;240&quot; );
</code></pre>

<p>The live bundle calls the sysctl command often. If_elapsed is used to
reduce the load from excessive promise evaluation.</p>



            </article>
            <article>
                <header>
                    <h1><a href="/blog/2013/07/26/profiling-policy-performance-in-cfengine/">Profiling policy performance in CFEngine</a></h1>

                    <p class="tags">Tags:
                        <a href="/blog/tag/cfengine/" rel="tag">cfengine</a>
                    </p>

                    <aside>
                        <p><time datetime="2013-07-26">
                            Posted on 2013-07-26
                        </time>
                            by nwatson
                        </p>
                    </aside>

                </header>

                <p><a href="http://www.loicp.eu/">Lo√Øc Pefferkorn</a> has created the <a href="https://github.com/lpefferkorn/cfe-profiler">cfe-profiler</a>.
It is a library that times the execution of CFEngine bundles in your
policy. Let&#39;s take a look.</p>


                    <p><a href="/blog/2013/07/26/profiling-policy-performance-in-cfengine/index.html#section-2">Continue reading Profiling policy performance in CFEngine...</a></p>

            </article>
            <article>
                <header>
                    <h1><a href="/blog/2013/07/19/polling-cfengine-with-opennms/">Polling CFEngine with Opennms</a></h1>

                    <p class="tags">Tags:
                        <a href="/blog/tag/cfengine/" rel="tag">cfengine</a>
                        <a href="/blog/tag/monitoring/" rel="tag">monitoring</a>
                        <a href="/blog/tag/opennms/" rel="tag">opennms</a>
                    </p>

                    <aside>
                        <p><time datetime="2013-07-19">
                            Posted on 2013-07-19
                        </time>
                            by nwatson
                        </p>
                    </aside>

                </header>

                <p>In the coming months I&#39;m going to work with and write about <a href="http://www.opennms.org">Opennms</a>.
Started in 1999, Opennms is a mature, open source, enterprise scale
monitoring system.</p>


                    <p><a href="/blog/2013/07/19/polling-cfengine-with-opennms/index.html#section-2">Continue reading Polling CFEngine with Opennms...</a></p>

            </article>
        </main>

        <ul class="pager">
            <li class="previous ">
                <a rel="next" href="/blog/page/14/"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Older</a>
            </li>
            <li class="next ">
                <a rel="prev" href="/blog/page/12/">Newer<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
            </li>
        </ul>

    </div>

    <div class="sidebar col-md-3">
        <iframe src="https://duckduckgo.com/search.html?site=watson-wilson.ca&prefill=Search DuckDuckGo" style="overflow:hidden;margin:0;padding:0;width:350px;height:40px;" frameborder="0"></iframe>

        <h1>Tags</h1>
        <ul class="list-inline">
            <li><a href="/blog/tag/ansible/">ansible</a></li>
            <li><a href="/blog/tag/anti-virus/">anti-virus</a></li>
            <li><a href="/blog/tag/apt/">apt</a></li>
            <li><a href="/blog/tag/asg/">asg</a></li>
            <li><a href="/blog/tag/autoscaling/">autoscaling</a></li>
            <li><a href="/blog/tag/aws/">AWS</a></li>
            <li><a href="/blog/tag/azure/">azure</a></li>
            <li><a href="/blog/tag/backup/">backup</a></li>
            <li><a href="/blog/tag/best-practices/">best practices</a></li>
            <li><a href="/blog/tag/bitbucket/">bitbucket</a></li>
            <li><a href="/blog/tag/bosh/">bosh</a></li>
            <li><a href="/blog/tag/cfengine/">cfengine</a></li>
            <li><a href="/blog/tag/cfengine-cookbook/">cfengine cookbook</a></li>
            <li><a href="/blog/tag/cheatsheet/">cheatsheet</a></li>
            <li><a href="/blog/tag/cli/">cli</a></li>
            <li><a href="/blog/tag/cloud/">cloud</a></li>
            <li><a href="/blog/tag/cloud-foundry/">cloud foundry</a></li>
            <li><a href="/blog/tag/cluster/">cluster</a></li>
            <li><a href="/blog/tag/conferences/">conferences</a></li>
            <li><a href="/blog/tag/configuration-management/">configuration management</a></li>
            <li><a href="/blog/tag/containers/">containers</a></li>
            <li><a href="/blog/tag/continuous-integration/">continuous integration</a></li>
            <li><a href="/blog/tag/cron/">cron</a></li>
            <li><a href="/blog/tag/debian/">debian</a></li>
            <li><a href="/blog/tag/delta-reporting/">delta reporting</a></li>
            <li><a href="/blog/tag/devops/">devops</a></li>
            <li><a href="/blog/tag/dns/">dns</a></li>
            <li><a href="/blog/tag/docker/">docker</a></li>
            <li><a href="/blog/tag/dr/">dr</a></li>
            <li><a href="/blog/tag/efl/">EFL</a></li>
            <li><a href="/blog/tag/github/">github</a></li>
            <li><a href="/blog/tag/heartbeat/">heartbeat</a></li>
            <li><a href="/blog/tag/high-availability/">high availability</a></li>
            <li><a href="/blog/tag/infosec/">infosec</a></li>
            <li><a href="/blog/tag/ipv6/">ipv6</a></li>
            <li><a href="/blog/tag/irc/">irc</a></li>
            <li><a href="/blog/tag/iscsi/">iscsi</a></li>
            <li><a href="/blog/tag/jekyll/">jekyll</a></li>
            <li><a href="/blog/tag/jq/">jq</a></li>
            <li><a href="/blog/tag/json/">json</a></li>
            <li><a href="/blog/tag/kickstart/">kickstart</a></li>
            <li><a href="/blog/tag/kvm/">kvm</a></li>
            <li><a href="/blog/tag/linux/">linux</a></li>
            <li><a href="/blog/tag/markdown/">markdown</a></li>
            <li><a href="/blog/tag/monitoring/">monitoring</a></li>
            <li><a href="/blog/tag/multipathd/">multipathd</a></li>
            <li><a href="/blog/tag/mustache/">mustache</a></li>
            <li><a href="/blog/tag/networking/">networking</a></li>
            <li><a href="/blog/tag/opennms/">opennms</a></li>
            <li><a href="/blog/tag/opensource/">opensource</a></li>
            <li><a href="/blog/tag/oracle/">oracle</a></li>
            <li><a href="/blog/tag/orchestration/">orchestration</a></li>
            <li><a href="/blog/tag/patching/">patching</a></li>
            <li><a href="/blog/tag/pcre/">pcre</a></li>
            <li><a href="/blog/tag/perl/">perl</a></li>
            <li><a href="/blog/tag/posix/">posix</a></li>
            <li><a href="/blog/tag/programming/">programming</a></li>
            <li><a href="/blog/tag/provisioning/">provisioning</a></li>
            <li><a href="/blog/tag/python/">python</a></li>
            <li><a href="/blog/tag/red-hat/">red hat</a></li>
            <li><a href="/blog/tag/redhat/">redhat</a></li>
            <li><a href="/blog/tag/regex/">regex</a></li>
            <li><a href="/blog/tag/rhev/">rhev</a></li>
            <li><a href="/blog/tag/ruby/">ruby</a></li>
            <li><a href="/blog/tag/san/">san</a></li>
            <li><a href="/blog/tag/satellite/">satellite</a></li>
            <li><a href="/blog/tag/scripting/">scripting</a></li>
            <li><a href="/blog/tag/security/">security</a></li>
            <li><a href="/blog/tag/serverspec/">serverspec</a></li>
            <li><a href="/blog/tag/shell/">shell</a></li>
            <li><a href="/blog/tag/slaac/">slaac</a></li>
            <li><a href="/blog/tag/software-testing/">software testing</a></li>
            <li><a href="/blog/tag/solaris/">solaris</a></li>
            <li><a href="/blog/tag/spacewalk/">spacewalk</a></li>
            <li><a href="/blog/tag/ssh/">ssh</a></li>
            <li><a href="/blog/tag/statocles/">statocles</a></li>
            <li><a href="/blog/tag/subversion/">subversion</a></li>
            <li><a href="/blog/tag/sun/">sun</a></li>
            <li><a href="/blog/tag/support/">support</a></li>
            <li><a href="/blog/tag/svn/">svn</a></li>
            <li><a href="/blog/tag/sysadmin/">sysadmin</a></li>
            <li><a href="/blog/tag/sysctl/">sysctl</a></li>
            <li><a href="/blog/tag/terraform/">terraform</a></li>
            <li><a href="/blog/tag/virus/">virus</a></li>
            <li><a href="/blog/tag/vitualization/">vitualization</a></li>
            <li><a href="/blog/tag/website/">website</a></li>
            <li><a href="/blog/tag/yaml/">yaml</a></li>
            <li><a href="/blog/tag/yamllint/">yamllint</a></li>
        </ul>
        <h1>Feeds</h1>
        <ul class="list-inline">
            <li>
                <a href="/blog/index.atom" rel="alternate" type="application/atom+xml">
                    Atom
                </a>
            </li>
            <li>
                <a href="/blog/index.rss" rel="alternate" type="application/rss+xml">
                    RSS
                </a>
            </li>
        </ul>
    </div>

</div>


        </div>
        <footer>
            
            <h1></h1>
            <div class='col-md-5'> </div>
            <div class="col-md-3 container tagline">
                <a href="http://preaction.me/statocles">Made with Statocles</a><br/>
                <a href="http://www.perl.org">Powered by Perl</a>
            </div>
        </footer>
    </body>
</html>
