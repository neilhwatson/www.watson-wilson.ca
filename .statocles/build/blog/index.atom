<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>http://watson-wilson.ca/blog/</id>
    <title>Neil H. Watson</title>
    <updated>2016-10-27T00:00:00Z</updated>
    <link href="http://watson-wilson.ca/blog/index.atom" rel="self" />
    <link href="http://watson-wilson.ca/blog/" rel="alternate" />
    <generator version="0.077">Statocles</generator>
    <entry>
        <id>http://watson-wilson.ca/blog/2016/10/27/ansible-reboot/</id>
        <title>Reboot and reconnect between Ansible tasks</title>
        <link href="http://watson-wilson.ca/blog/2016/10/27/ansible-reboot/" rel="alternate" />
        <content type="html"><![CDATA[
            <p><a href="http://ansible.com"><img alt="go to ansible.com" src="http://watson-wilson.ca/static/images/ansible_logo_round.png" style="float:right" width="150px"></a></p>

<p>You can reboot and reconnect to your hosts between <a href="http://ansible.com">Ansible</a> tasks. </p>

<pre><code>---
# Other task above here.

# Now reboot and reconnect
- block:

    # The at module allows ansible to issue the command and disconnect 
    # cleanly before the reboot disconnects the network connection.
   - name: Reboot in one minute
     at: command=reboot count=1 units=minutes

   # You may need to adjust this dependong on how fast your host halts.
   - name: Wait for reboot to start and hopefully finish 
     pause: minutes=2

   - name: Try to re-connect to rebooted host before continuing  
     command: /bin/true
     register: online
     retries: 20
     delay: 30
     until: online|success

# Continue your tasks...
</code></pre>

<ol>
<li><a href="http://docs.ansible.com/ansible/playbooks_blocks.html">blocks</a> group tasks for better control and debugging.</li>
<li><a href="http://docs.ansible.com/ansible/at_module.html">at</a> uses the UNIX <a href="https://linux.die.net/man/1/at">at</a> tool.</li>
<li><a href="http://docs.ansible.com/ansible/pause_module.html">pause</a> pauses like sleep.</li>
<li>Retries and delay works like a <a href="http://docs.ansible.com/ansible/playbooks_loops.html#do-until-loops">do until</a> loops.</li>
</ol>

                <p><a href="http://watson-wilson.ca/blog/2016/10/27/ansible-reboot/#section-2">Continue reading...</a></p>
            <p>Tags:
                <a href="http://watson-wilson.ca/blog/tag/configuration-management/">configuration management</a>
                <a href="http://watson-wilson.ca/blog/tag/ansible/">ansible</a>
                <a href="http://watson-wilson.ca/blog/tag/orchestration/">orchestration</a>
                <a href="http://watson-wilson.ca/blog/tag/scripting/">scripting</a>
            </p>
        ]]></content>
        <updated>2016-10-27T00:00:00Z</updated>
        <category term="configuration management" />
        <category term="ansible" />
        <category term="orchestration" />
        <category term="scripting" />
    </entry>
    <entry>
        <id>http://watson-wilson.ca/blog/2016/10/10/cloudfoundry/</id>
        <title>Bosh and Cloud Foundry, an intro</title>
        <link href="http://watson-wilson.ca/blog/2016/10/10/cloudfoundry/" rel="alternate" />
        <content type="html"><![CDATA[
            <p><a href="https://cloudfoundry.org/"><img alt="cloudfoundry website" src="http://watson-wilson.ca/static/images/Cloud-Foundry-Logo.png" style="float:right" width="120px"></a></p>

<p><a href="https://www.cloudfoundry.org/">Cloud Foundry</a> is an open source platform as a service product owned by Pivotal Software. CF allows you to deploy applications to containers on AWS, Azue, VMware vSphere, and others.</p>

                <p><a href="http://watson-wilson.ca/blog/2016/10/10/cloudfoundry/#section-2">Continue reading...</a></p>
            <p>Tags:
                <a href="http://watson-wilson.ca/blog/tag/cloud/">cloud</a>
                <a href="http://watson-wilson.ca/blog/tag/cloud-foundry/">cloud foundry</a>
                <a href="http://watson-wilson.ca/blog/tag/bosh/">bosh</a>
                <a href="http://watson-wilson.ca/blog/tag/containers/">containers</a>
            </p>
        ]]></content>
        <updated>2016-10-10T00:00:00Z</updated>
        <category term="cloud" />
        <category term="cloud foundry" />
        <category term="bosh" />
        <category term="containers" />
    </entry>
    <entry>
        <id>http://watson-wilson.ca/blog/2016/07/22/grip/</id>
        <title>Previewing Markdown using grip</title>
        <link href="http://watson-wilson.ca/blog/2016/07/22/grip/" rel="alternate" />
        <content type="html"><![CDATA[
            <p>Review your markdown locally with <a href="https://github.com/joeyespo/grip">Grip</a>,
powered by Python.</p>

                <p><a href="http://watson-wilson.ca/blog/2016/07/22/grip/#section-2">Continue reading...</a></p>
            <p>Tags:
                <a href="http://watson-wilson.ca/blog/tag/markdown/">markdown</a>
                <a href="http://watson-wilson.ca/blog/tag/github/">github</a>
                <a href="http://watson-wilson.ca/blog/tag/bitbucket/">bitbucket</a>
                <a href="http://watson-wilson.ca/blog/tag/python/">python</a>
            </p>
        ]]></content>
        <updated>2016-07-22T00:00:00Z</updated>
        <category term="markdown" />
        <category term="github" />
        <category term="bitbucket" />
        <category term="python" />
    </entry>
    <entry>
        <id>http://watson-wilson.ca/blog/2016/03/27/vote_for_cfengine_bugs/</id>
        <title>Vote for your favourite CFEngine bugs</title>
        <link href="http://watson-wilson.ca/blog/2016/03/27/vote_for_cfengine_bugs/" rel="alternate" />
        <content type="html"><![CDATA[
            <p><a href="https://openclipart.org/detail/223801/bad-bug">
    <img alt="bug photo" src="https://openclipart.org/download/223801/bad-bug.svg" style="float:right"></a></p>

<p>CFEngine has switched to a
<a href="https://tracker.mender.io/projects/CFE/summary">JIRA bug system</a> and this
system allows us to vote for bugs. I encourage you to vote for your favourite
bugs; here are mine:</p>

                <p><a href="http://watson-wilson.ca/blog/2016/03/27/vote_for_cfengine_bugs/#section-2">Continue reading...</a></p>
            <p>Tags:
                <a href="http://watson-wilson.ca/blog/tag/cfengine/">cfengine</a>
                <a href="http://watson-wilson.ca/blog/tag/configuration-management/">configuration management</a>
            </p>
        ]]></content>
        <updated>2016-03-27T00:00:00Z</updated>
        <category term="cfengine" />
        <category term="configuration management" />
    </entry>
    <entry>
        <id>http://watson-wilson.ca/blog/2016/01/08/terraform-intro/</id>
        <title>Introduction to Terraform</title>
        <link href="http://watson-wilson.ca/blog/2016/01/08/terraform-intro/" rel="alternate" />
        <content type="html"><![CDATA[
            <p><a href="https://terraform.io/"><img alt="terraform logo" src="https://raw.githubusercontent.com/hashicorp/terraform/master/website/source/assets/images/logo-static.png" style="float:right" width="120px"></a></p>

<p><a href="https://terraform.io/">Terraform</a> allows you to manage your AWS, and other
cloud infrastructure, the same way you would manage servers using configuration
management products like CFEngine or Puppet. Terraform is idempotent and
convergent so only required changes are applied.</p>

                <p><a href="http://watson-wilson.ca/blog/2016/01/08/terraform-intro/#section-2">Continue reading...</a></p>
            <p>Tags:
                <a href="http://watson-wilson.ca/blog/tag/terraform/">terraform</a>
                <a href="http://watson-wilson.ca/blog/tag/cloud/">cloud</a>
                <a href="http://watson-wilson.ca/blog/tag/configuration-management/">configuration management</a>
            </p>
        ]]></content>
        <updated>2016-01-08T00:00:00Z</updated>
        <category term="terraform" />
        <category term="cloud" />
        <category term="configuration management" />
    </entry>
</feed>

